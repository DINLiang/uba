<div class="u-mdlayout" id="demo-mdlayout">

	<div class="u-mdlayout-master" style="display:none"></div>

	<div class="u-mdlayout-detail">
		<div class="u-mdlayout-page u-navlayout-fixed-header current" id="list">
			<div class="u-mdlayout-page-section">

				<div class="u-container-fluid u-widget-bg">
					<div class="u-row">
						<div class="u-col-12">
							<div class="u-widget" style="background-color:transparent">
								<button class="u-button raised primary m-r-sm" data-bind="click: events.beforeAdd">
									新增
								</button>
								<button class="u-button raised" data-bind="click: events.delRow">
									删除
								</button>
								<div class="u-input-group u-has-feedback u-right m-r-sm">
									<input type="text" class="u-form-control sm" placeholder="搜索" data-bind="value:searchText,event:{keyup: events.searchKeyUp, blur: events.searchBlur}" id="search-value-input" />
									<span class="u-form-control-feedback sm fa fa-search" data-bind="click:events.search"></span>
									<div style="display: none; position: absolute; z-index: 1; top: 28px; border: 1px solid;" id="search-show">
										<table class="u-table" style="width:100%;">
											<thead>
												<tr>
													<th>文件名</th>
													<th>说明</th>
												</tr>
											</thead>
											<tbody data-bind="foreach:{data:searchDataTable.rows(),as:'row'}" >
												<tr>
													<td data-bind="text: row.ref('filename')"></td>
													<td data-bind="text: row.ref('note')"></td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="u-row">
						<div class="u-col-12">
							<div class="u-widget">

								<div class="u-widget-heading">
									<h3 class="u-widget-title">文档列表</h3>
								</div>
								<div class="u-widget-body">
									<table class="u-table" style="width:100%;">
										<thead>
											<tr>
												<th><label class="u-checkbox only-style" data-bind="click: mainDataTable.toggleAllSelect.bind(mainDataTable), css:{'is-checked': mainDataTable.allSelected()}">
													<input id="checkInput" type="checkbox" class="u-checkbox-input">
													<span class="u-checkbox-label"></span> </label></th>
												<th>文件名</th>
												<th>说明</th>
												<th>操作</th>
											</tr>
										</thead>
										<tbody data-bind="foreach:{data:mainDataTable.rows(),as:'row', afterAdd: events.afterAdd}" >
											<tr data-bind="css: { 'is-selected' : row.selected() } ,attr:{'id': $index()}">
												<td class="checkbox1"><label class="u-checkbox only-style u-checkbox-floatl" data-bind="click: row.multiSelect, css:{'is-checked': row.selected()}">
													<input type="checkbox" class="u-checkbox-input">
													<span class="u-checkbox-label"></span> </label></td>
												<td data-bind="text: row.ref('filename')"></td>
												<td data-bind="text: row.ref('note')"></td>
												<td>
													<a href="javascript:;" class="m-r-sm" data-bind="click:$parent.events.beforeEdit.bind($data,  $index())">修改</a>
													<a href="javascript:;" class="m-r-sm" data-bind="click:$parent.events.viewRow.bind($data, $index())">查看</a>
													<a href="javascript:;" class="m-r-sm" data-bind="click:$parent.events.download.bind($data, $index())">下载</a>
													<a href="javascript:;" class="m-r-sm" data-bind="attr: { href: 'http://' + fdfsread_server + '/' + row.ref('filepath')() }">下载2</a>
												</td>
											</tr>
										</tbody>
									</table>
									<div id='pagination' class='u-pagination pagination' u-meta='{"type":"pagination","data":"mainDataTable","pageChange":"events.pageChangeFunc","sizeChange":"events.sizeChangeFunc"}'></div>

								</div>

							</div>
						</div>
					</div>

				</div>

			</div>
		</div>
		<!--编辑/新增-->
		<div class="u-mdlayout-page u-navlayout-fixed-header" id="addPage">
			<div class="u-mdlayout-page-section">
				<div class="u-container-fluid u-widget-bg">
					<div class="u-row">
						<div class="u-col-12">
							<div class="u-widget" style="background-color:transparent">
								<button class="u-button raised m-r-sm" data-bind="click: events.goBack">
									返回
								</button>
								<button class="u-button raised primary" data-bind='click:events.addOrEditRow, enable: canSave'>
									保存
								</button>
							</div>
						</div>
					</div>
					<div class="u-row">
						<div class="u-col-12">
							<div class="u-widget" style="color: red" data-bind="text: '注意:上传文件最大大小为 ' + maxUploadSize + ' byte'"></div>
						</div>
					</div>
					<div class="u-row">
						<div class="u-col-12">
							<div class="u-widget">
								<div class="u-widget-heading">
									<h3 class="u-widget-title">文档信息</h3>
								</div>
								<div class="u-widget-body form-container">
									<div class="u-container-fluid">
										<div class="u-row">
											<div class="u-col-1 u-col-sm-4">
												<label class="u-input-label right">文件名:</label>
											</div>
											<div class="u-col-3 u-col-sm-8 m-b-md">
												<input id="file" type="file" placeholder="文件名" >
											</div>
											<div class="u-col-1 u-col-sm-4">
												<label class="u-input-label right">说明:</label>
											</div>
											<div class="u-col-3 u-col-sm-8 m-b-md">
												<input id="note" type="text" class="u-form-control" placeholder="说明" u-meta='{"id":"note","type":"string","data":"infodata","field":"note"}'>
											</div>
										</div>
									</div>
								</div>
							</div>

						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="u-mdlayout-page u-navlayout-fixed-header" id="showPage">
			<div class="u-mdlayout-page-section">
				<div class="u-container-fluid u-widget-bg">
					<div class="u-row">
						<div class="u-col-12">
							<div class="u-widget" style="background-color:transparent">
								<button class="u-button raised primary m-r-sm" data-bind="click: events.goBack">
									返回
								</button>
							</div>
						</div>
					</div>
					<div class="u-row">
						<div class="u-col-12">
							<div class="u-widget">
								<div class="u-widget-heading">
									<h3 class="u-widget-title">文档信息</h3>
								</div>
								<div class="u-widget-body form-container">
									<ul class="u-form-browse">
										<li class="m-v">
											<label class="u-control-label w-sm">文件名:</label>
											<span data-bind="text:mainDataTable.ref('filename')"></span>
										</li>
										<li class="m-v">
											<label class="u-control-label w-sm">说明:</label>
											<span data-bind="text: mainDataTable.ref('note')"></span>
										</li>
									</ul>
								</div>
							</div>

						</div>
					</div>
				</div>

			</div>
		</div>
		<div style="display: none">
			<form id="download_form" action="docsjpa/download" method="get" target="">
				<input id="download_form_doc_id" type="hidden" name="doc_id" />
			</form>
		</div>
	</div>
</div>
